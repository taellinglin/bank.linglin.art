{% block content %}
<style>
    /* Reset and Base Styles */
    * {
        box-sizing: border-box;
        margin: 0;
        padding: 0;
    }
    
    body {
        font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        line-height: 1.6;
        color: #333;
        background-color: #f0f2f5;
        padding: 20px;
    }
    
    /* Printable Bills Container */
    .printable-bills-container {
        max-width: 1200px;
        margin: 0 auto;
        background: white;
        border-radius: 12px;
        box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
        padding: 25px;
    }
    
    /* Print Header */
    .print-header {
        text-align: center;
        margin-bottom: 30px;
        padding-bottom: 20px;
        border-bottom: 2px solid #e1e4e8;
    }
    
    .print-header h1 {
        color: #2c3e50;
        margin-bottom: 10px;
        font-size: 2.2rem;
    }
    
    .print-header p {
        color: #7f8c8d;
        font-size: 1.1rem;
        margin-bottom: 20px;
    }
    
    .print-btn {
        background: #3498db;
        color: white;
        border: none;
        padding: 12px 25px;
        font-size: 1rem;
        border-radius: 6px;
        cursor: pointer;
        transition: background 0.3s;
    }
    
    .print-btn:hover {
        background: #2980b9;
    }
    
    /* Print Layout - 3 bills vertically per page */
    .print-pages {
        display: none; /* Hidden on screen, visible when printing */
    }
    
    .bill-page {
        width: 100%;
        height: 11in; /* Letter size */
        padding: 0.5in;
        page-break-after: always;
        display: flex;
        flex-direction: column;
        justify-content: space-between;
    }
    
    .bill-slot {
        height: 32%;
        display: flex;
        align-items: center;
        justify-content: center;
        border: 1px dashed #ccc;
        border-radius: 8px;
        padding: 15px;
    }
    
    .bill-content {
        text-align: center;
        width: 100%;
    }
    
    .bill-content h3 {
        color: #2c3e50;
        margin-bottom: 10px;
    }
    
    .bill-image-container {
        height: 180px;
        display: flex;
        align-items: center;
        justify-content: center;
        margin-bottom: 10px;
    }
    
    .bill-img {
        max-width: 100%;
        max-height: 100%;
        object-fit: contain;
    }
    
    .denom-label {
        font-weight: bold;
        color: #2c3e50;
        font-size: 1.1rem;
    }
    
    /* Screen view */
    .screen-view {
        display: grid;
        grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
        gap: 20px;
        margin-bottom: 30px;
    }
    
    .bill-card {
        border: 1px solid #e1e4e8;
        border-radius: 8px;
        padding: 15px;
        background: #fff;
    }
    
    .bill-card h3 {
        color: #2c3e50;
        margin-bottom: 10px;
        text-align: center;
    }
    
    /* Print Instructions */
    .print-instructions {
        background: #f8f9fa;
        padding: 25px;
        border-radius: 8px;
        border-left: 4px solid #3498db;
    }
    
    .print-instructions h3 {
        color: #2c3e50;
        margin-bottom: 15px;
    }
    
    .print-instructions ol {
        margin-left: 20px;
    }
    
    .print-instructions li {
        margin-bottom: 10px;
    }
    
    /* Print Styles */
    @media print {
        body {
            background: white;
            padding: 0;
            margin: 0;
        }
        
        .printable-bills-container {
            box-shadow: none;
            padding: 0;
            border-radius: 0;
        }
        
        .print-header, .print-instructions, .screen-view {
            display: none;
        }
        
        .print-pages {
            display: block;
        }
        
        .bill-page {
            border: none;
            padding: 0.5in;
        }
        
        .bill-slot {
            border: 1px solid #ddd;
        }
    }
</style>

<div class="printable-bills-container">
    <div class="print-header">
        <h1>Double-Sided Printable Bills</h1>
        <p>Print this page double-sided to have matching front/back denominations</p>
        <button onclick="window.print()" class="print-btn">Print Bills</button>
    </div>

    <!-- Print view (hidden on screen) -->
    <div class="print-pages">
        {% for i in range(0, denominations|length, 3) %}
            {% set page_denoms = denominations[i:i+3] %}
            
            <!-- Front of page -->
            <div class="bill-page">
                {% for denom in page_denoms %}
                <div class="bill-slot">
                    <div class="bill-content">
                        <h3>Front - {{ denom }}</h3>
                        <div class="bill-image-container">
                            <img src="{{ get_front_image(denom) }}" alt="{{ denom }} Front" class="bill-img">
                        </div>
                        <p class="denom-label">{{ denom }}</p>
                    </div>
                </div>
                {% endfor %}
            </div>
            
            <!-- Back of page -->
            <div class="bill-page">
                {% for denom in page_denoms|reverse %}
                <div class="bill-slot">
                    <div class="bill-content">
                        <h3>Back - {{ denom }}</h3>
                        <div class="bill-image-container">
                            <img src="{{ get_back_image(denom) }}" alt="{{ denom }} Back" class="bill-img">
                        </div>
                        <p class="denom-label">{{ denom }}</p>
                    </div>
                </div>
                {% endfor %}
            </div>
        {% endfor %}
    </div>

    <!-- Screen view (hidden when printing) -->
    <div class="screen-view">
        {% for denom in denominations %}
        <div class="bill-card">
            <h3>{{ denom }}</h3>
            <div class="bill-image-container">
                <img src="{{ get_front_image(denom) }}" alt="{{ denom }} Front" class="bill-img">
            </div>
            <p class="denom-label">Front</p>
            
            <div class="bill-image-container">
                <img src="{{ get_back_image(denom) }}" alt="{{ denom }} Back" class="bill-img">
            </div>
            <p class="denom-label">Back</p>
        </div>
        {% endfor %}
    </div>
    
    <div class="print-instructions">
        <h3>Printing Instructions:</h3>
        <ol>
            <li>Click the "Print Bills" button above</li>
            <li>In your printer settings:
                <ul>
                    <li>Select "Double-sided printing" or "Duplex printing"</li>
                    <li>Choose <strong>"Flip on long edge"</strong> (like a book)</li>
                </ul>
            </li>
            <li>If your printer doesn't support automatic duplexing:
                <ul>
                    <li>Print all odd pages first (front sides)</li>
                    <li>Then reinsert the printed pages with the <strong>top edge in the same position</strong></li>
                    <li>Print all even pages (back sides)</li>
                </ul>
            </li>
            <li>Use standard letter size paper (8.5" x 11")</li>
            <li>For best results, use heavier paper stock (24-28 lb)</li>
        </ol>
        <p><strong>Important:</strong> Make sure to select "Flip on long edge" for proper double-sided printing of bills.</p>
    </div>
</div>

<script>
    // Simple script to handle print functionality
    document.addEventListener('DOMContentLoaded', function() {
        console.log('Printable bills page loaded');
    });
</script>
{% endblock %}